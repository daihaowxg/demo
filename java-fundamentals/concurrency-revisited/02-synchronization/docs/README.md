# 线程安全与同步

## 核心概念

### 1. 什么是线程安全

当多个线程访问某个类时，不管运行时环境采用何种调度方式或者这些线程将如何交替执行，并且在主调代码中不需要任何额外的同步或协同，这个类都能表现出正确的行为，那么就称这个类是线程安全的。

### 2. synchronized 关键字

synchronized 是 Java 中最基本的同步机制，可以用于：
- 同步方法
- 同步代码块
- 静态同步方法

### 3. volatile 关键字

volatile 保证变量的可见性和有序性，但不保证原子性。

### 4. happens-before 原则

Java 内存模型中定义的一组规则，用于保证多线程环境下的可见性和有序性。

### 5. 死锁问题

死锁是指两个或多个线程互相持有对方需要的资源，导致所有线程都无法继续执行。

## 学习要点

- [ ] 理解线程安全的概念
- [ ] 掌握 synchronized 的使用方式
- [ ] 理解 volatile 的作用和局限性
- [ ] 掌握 happens-before 原则
- [ ] 学会识别和避免死锁
- [ ] 理解可见性、原子性、有序性

## 代码示例

参考 `src/main/java/io/github/daihaowxg/concurrency/sync/` 目录下的示例代码。
